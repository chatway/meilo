{"version":3,"sources":["components/tasks/AddTask.js","components/tasks/Tasks.js","components/tasks/Task.js","components/tasks/EditTask.js","components/tasks/TasksPanel.js","components/layouts/Footer.js","components/mailing_groups/MailingGroups.js","components/mailing_groups/MailingGroup.js","components/mailing_groups/MailingGroupsPanel.js","components/app/types.js","App.js","routes.js","index.js","create-router.js"],"names":["AddTask","props","onClickAddTask","addTask","router","state","name","text","setState","error","navigateToDefault","onChangeNameTask","e","target","value","onChangeTextTask","this","osname","platform","left","onClick","navigate","title","onChange","type","placeholder","vertical","ANDROID","style","float","className","size","React","Component","Tasks","tasks","setCurrentTaskId","onRemovableTasks","deleteTask","removable","paddingTop","map","task","index","multiline","expandable","key","onRemove","id","Task","EditTask","onClickEditTask","editTask","TasksPanel","currentTaskId","newTask","Number","route","params","filter","activePanel","theme","Footer","groupId","queryParams","hasOwnProperty","vk_group_id","level","component","href","before","MailingGroups","subscribe","mailingGroup","allowMessagesGroupList","indexOf","button_unsubscribe","button_subscribe","mailingGroups","stateApp","description","mailingGroupId","mode","buttonLabel","buttonColor","find","main","MailingGroup","blueBackground","backgroundColor","MailingGroupsPanel","openBase","currentMailingGroupId","snackbar","bind","layout","onClose","fill","width","height","APIDOMAIN","App","parseQueryString","string","slice","split","queryParam","kvp","reduce","query","length","newTasks","applySubscribe","connect","send","then","data","result","catch","console","log","fetch","vk_user_id","method","headers","res","json","response","subscribeClient","undefined","push","splice","search","client","sendMessage","sendNotification","signChatWay","decodeURI","location","replace","body","JSON","stringify","getSignClient","sign","loadAllowMessagesGroupList","loadMailingGroups","activeView","toLowerCase","nodeName","path","Object","assign","window","createRouter","routes","defaultRoute","usePlugin","loggerPlugin","browserPlugin","useHash","start","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3ed9fef7.chunk.js","sourcesContent":["import React from 'react'\nimport { PanelHeader, FormLayout, Textarea, Input, FixedLayout, Button, Div, platform, ANDROID, FormStatus } from '@vkontakte/vkui'\nimport '@vkontakte/vkui/dist/vkui.css'\nimport PanelHeaderBack from '@vkontakte/vkui/dist/components/PanelHeaderBack/PanelHeaderBack'\nimport Icon24Done from '@vkontakte/icons/dist/24/done'\n\nclass AddTask extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tname : '',\n\t\t\ttext : '',\n\t\t\terror : false\n\t\t};\n\t}\n\n\tonClickAddTask = () => {\n\t\tlet {\n\t\t\taddTask,\n\t\t\trouter\n\t\t} = this.props\n\n\t\tlet {\n\t\t\tname,\n\t\t\ttext\n\t\t} = this.state\n\n\t\tif (name !== '' && text !== '') {\n\t\t\tthis.setState({ error : false })\n\t\t\taddTask({\n\t\t\t\tname, text\n\t\t\t})\n\t\t\trouter.navigateToDefault()\n\t\t} else {\n\t\t\tthis.setState({ error : true })\n\t\t}\n\n\t}\n\n\tonChangeNameTask = (e) => {\n\t\tconst name = e.target.value\n\t\tthis.setState({ name })\n\t}\n\n\tonChangeTextTask = (e) => {\n\t\tconst text = e.target.value\n\t\tthis.setState({ text })\n\t}\n\n\trender() {\n\n\t\tlet {\n\t\t\trouter\n\t\t} = this.props\n\n\t\tconst osname = platform()\n\n\t\treturn (\n\t\t\t<div>\n                <PanelHeader\n\t\t\t\t\tleft={\n\t\t\t\t\t\t<PanelHeaderBack\n\t\t\t\t\t\t\tonClick={()=>router.navigate('tasks')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t>\n                Добавление\n                </PanelHeader>\n                <FormLayout>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.state.error === true &&\n\t\t\t\t\t\t<FormStatus title=\"Некорректные поля\" state=\"error\">\n\t\t\t\t\t\t\tЗаполните все поля\n\t\t\t\t\t\t</FormStatus>\n\t\t\t\t\t}\n\t\t\t\t\t<Input \n\t\t\t\t\t\tonChange={this.onChangeNameTask}\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tvalue={this.state.name}\n\t\t\t\t\t\tplaceholder='Напиши, как называется задача' \n\t\t\t\t\t/>\n\t\t\t\t\t<Textarea \n\t\t\t\t\t\tonChange={this.onChangeTextTask}\n\t\t\t\t\t\tvalue={this.state.text}\n\t\t\t\t\t\tplaceholder='Напиши, чтобы ты хотел сделать' />\n\t\t\t\t</FormLayout>\n\t\t\t\t<FixedLayout vertical='bottom'>\n\t\t\t\t\t{\n\t\t\t\t\t\tosname === ANDROID ? \n\t\t\t\t\t\t<Div style={{ float : 'right' }}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName='FixedBottomButton'\n\t\t\t\t\t\t\t\tonClick={(e) => this.onClickAddTask(e)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon24Done/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tsize='xl'\n\t\t\t\t\t\t\t\tonClick={(e) => this.onClickAddTask(e)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tДобавить\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Div>\n\t\t\t\t\t}\n\t\t\t\t</FixedLayout>\n            </div>\n\t\t);\n\t}\n}\n\nexport default AddTask;\n","import React from 'react'\nimport { List, Cell, PanelHeader, platform, ANDROID, HeaderButton } from '@vkontakte/vkui'\nimport '@vkontakte/vkui/dist/vkui.css'\nimport Icon24Delete from '@vkontakte/icons/dist/24/delete'\n\nclass Tasks extends React.Component {\n\trender() {\n\n        let {\n            tasks,\n            router,\n            setCurrentTaskId,\n            onRemovableTasks,\n            deleteTask,\n            removable\n        } = this.props\n\n        const osname = platform()\n\t\treturn (\n\t\t\t<div>\n                <PanelHeader\n                    left={\n                        osname === ANDROID ?\n                        false\n                        :\n                        <HeaderButton \n                            onClick={() => onRemovableTasks()}\n                        >\n                            <Icon24Delete/>\n                        </HeaderButton>\n                    }\n                >\n                    Задачи\n                </PanelHeader>\n                <List style={{ paddingTop : (osname === ANDROID) ? 56 : 48 }}>\n                    {\n                        tasks.map((task, index) => (\n                            <Cell\n                                multiline\n                                expandable\n                                removable={removable}\n                                key={index}\n                                onRemove={() => deleteTask(task.id)}\n                                onClick={()=> {\n                                        setCurrentTaskId(task.id)\n                                        router.navigate('task', { id : task.id })\n                                    } \n                                }\n                            >\n                                {task.name}\n                            </Cell>\n                        ))\n                    }\n                </List>\n            </div>\n\t\t);\n\t}\n}\n\nexport default Tasks;\n","import React from 'react'\nimport { PanelHeader, Header, Div, Group } from '@vkontakte/vkui'\nimport PanelHeaderBack from '@vkontakte/vkui/dist/components/PanelHeaderBack/PanelHeaderBack'\n\nfunction Task(props) {\t\n\t\n\tconst task = props.task\n\tconst router = props.router\n\n\treturn (\n\t\t<div>\n           <PanelHeader\n\t\t\t\tleft={\n\t\t\t\t\t<PanelHeaderBack\n\t\t\t\t\t\tonClick={()=>router.navigate('tasks')}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t>\n            Задача\n            </PanelHeader>\n\t\t\t{\n\t\t\t\ttypeof task !== 'undefined' &&\n\t\t\t\t<Group>\n\t\t\t\t\t<Header>{task.name}</Header>\n\t\t\t\t\t<Div>{task.text}</Div>\n\t\t\t\t</Group>\n\t\t\t}\n        </div>\n\t)\n}\n\nexport default Task\n","import React from 'react'\nimport { PanelHeader, FormLayout, Textarea, Input, FixedLayout, Button, Div, platform, ANDROID, FormStatus } from '@vkontakte/vkui'\nimport '@vkontakte/vkui/dist/vkui.css'\nimport PanelHeaderBack from '@vkontakte/vkui/dist/components/PanelHeaderBack/PanelHeaderBack'\nimport Icon24Done from '@vkontakte/icons/dist/24/done'\n\nclass EditTask extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tid : null,\n\t\t\tname : '',\n\t\t\ttext : '',\n\t\t\terror : false\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tlet {\n\t\t\ttask\n\t\t} = this.props\n\n\t\tthis.setState({ ...task })\n\t}\n\n\tonClickEditTask = () => {\n\t\tlet {\n\t\t\teditTask,\n\t\t\trouter\n\t\t} = this.props\n\n\t\tlet {\n\t\t\tid,\n\t\t\tname,\n\t\t\ttext\n\t\t} = this.state\n\n\t\tif (name !== '' && text !== '') {\n\t\t\tthis.setState({ error : false })\n\t\t\teditTask({\n\t\t\t\tid, name, text\n\t\t\t})\n\t\t\trouter.navigateToDefault()\n        } else {\n\t\t\tthis.setState({ error : true })\n\t\t}\n\n\t}\n\n\tonChangeNameTask = (e) => {\n\t\tconst name = e.target.value\n\t\tthis.setState({ name })\n\t}\n\n\tonChangeTextTask = (e) => {\n\t\tconst text = e.target.value\n\t\tthis.setState({ text })\n\t}\n\n\trender() {\n\n\t\tlet {\n\t\t\ttask,\n\t\t\trouter\n\t\t} = this.props\n\n\t\tconst osname = platform()\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{\n\t\t\t\t\ttypeof task !== 'undefined' &&\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<PanelHeader\n\t\t\t\t\t\t\tleft={\n\t\t\t\t\t\t\t\t<PanelHeaderBack \n\t\t\t\t\t\t\t\t\tonClick={()=>router.navigate('task', { id : task.id })}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\tРедактирование\n\t\t\t\t\t\t</PanelHeader>\n\t\t\t\t\t\t<FormLayout>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.state.error === true &&\n\t\t\t\t\t\t\t\t<FormStatus title=\"Некорректные поля\" state=\"error\">\n\t\t\t\t\t\t\t\t\tЗаполните все поля\n\t\t\t\t\t\t\t\t</FormStatus>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<Input \n\t\t\t\t\t\t\t\tonChange={this.onChangeNameTask}\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tvalue={this.state.name}\n\t\t\t\t\t\t\t\tplaceholder='Напиши, как называется задача' \n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Textarea \n\t\t\t\t\t\t\t\tonChange={this.onChangeTextTask}\n\t\t\t\t\t\t\t\tvalue={this.state.text}\n\t\t\t\t\t\t\t\tplaceholder='Напиши, чтобы ты хотел сделать' />\n\t\t\t\t\t\t</FormLayout>\n\t\t\t\t\t\t<FixedLayout vertical='bottom'>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tosname === ANDROID ?\n\t\t\t\t\t\t\t\t<Div style={{ float : 'right' }}>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName='FixedBottomButton'\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.onClickEditTask()}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Icon24Done/>\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tsize='xl'\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.onClickEditTask()}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tСохранить\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</FixedLayout>\n\t\t\t\t\t</div>\n\t\t\t\t}\n            </div>\n\t\t);\n\t}\n}\n\nexport default EditTask;\n","import React, {Component} from 'react'\r\nimport {\r\n    platform,\r\n    ANDROID,\r\n    FixedLayout,\r\n    Div,\r\n    Button, Panel, View\r\n} from '@vkontakte/vkui'\r\nimport '@vkontakte/vkui/dist/vkui.css'\r\nimport Icon24Delete from '@vkontakte/icons/dist/24/delete'\r\nimport Icon24Add from '@vkontakte/icons/dist/24/add'\r\nimport Icon24Write from '@vkontakte/icons/dist/24/write'\r\nimport Tasks from \"./Tasks\";\r\nimport Task from './Task'\r\nimport EditTask from './EditTask'\r\n\r\nclass TasksPanel extends Component {\r\n    get task() {\r\n        const id = Number(this.props.route.params.id) || this.state.currentTaskId\r\n        return this.props.state.tasks.filter((task) =>\r\n            task.id === id\r\n        )\r\n    }\r\n\r\n    setCurrentTaskId = (currentTaskId) => this.setState({currentTaskId: currentTaskId})\r\n    deleteTask = (id) => this.props.deleteTask(id)\r\n    editTask = (newTask) => this.props.editTask(newTask)\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            currentTaskId: null\r\n        };\r\n    }\r\n\r\n    render() {\r\n        let {\r\n            route,\r\n            state,\r\n            tasks,\r\n            router,\r\n        } = this.props\r\n\r\n        const osname = platform()\r\n\r\n        const activePanel = route.name\r\n\r\n        return (\r\n            <View activePanel={activePanel}>\r\n                <Panel id='tasks'>\r\n                    <FixedLayout vertical='top'>\r\n                    </FixedLayout>\r\n                    <Tasks\r\n                        router={router}\r\n                        tasks={tasks}\r\n                        removable={state.removable}\r\n                        onRemovableTasks={this.props.onRemovableTasks}\r\n                        setCurrentTaskId={this.setCurrentTaskId}\r\n                        deleteTask={this.deleteTask}\r\n                    />\r\n                    <FixedLayout vertical='bottom'>\r\n                        {\r\n                            osname === ANDROID ?\r\n                                <Div style={{float: 'right'}}>\r\n                                    <Button\r\n                                        className='FixedBottomButton'\r\n                                        onClick={() => router.navigate('add')}\r\n                                    >\r\n                                        <Icon24Add/>\r\n                                    </Button>\r\n                                </Div>\r\n                                :\r\n                                <Div>\r\n                                    <Button\r\n                                        size=\"xl\"\r\n                                        onClick={() => router.navigate('add')}\r\n                                    >\r\n                                        Новая задача\r\n                                    </Button>\r\n                                </Div>\r\n                        }\r\n                        {\r\n                            osname === ANDROID ?\r\n                                <Div>\r\n                                    <Button\r\n                                        className='FixedBottomButton'\r\n                                        onClick={() => this.props.onRemovableTasks()}\r\n                                    >\r\n                                        <Icon24Delete/>\r\n                                    </Button>\r\n                                </Div>\r\n                                :\r\n                                false\r\n                        }\r\n                    </FixedLayout>\r\n                </Panel>\r\n                <Panel id='task'>\r\n                    <Task\r\n                        router={router}\r\n                        task={this.task[0]}\r\n                    />\r\n                    <FixedLayout vertical='bottom'>\r\n                        {\r\n                            osname === ANDROID ?\r\n                                <Div style={{float: 'right'}}>\r\n                                    <Button\r\n                                        className='FixedBottomButton'\r\n                                        onClick={() => router.navigate('edit', {id: this.task[0].id})}\r\n                                    >\r\n                                        <Icon24Write/>\r\n                                    </Button>\r\n                                </Div>\r\n                                :\r\n                                <Div>\r\n                                    <Button\r\n                                        size=\"xl\"\r\n                                        onClick={() => router.navigate('edit', {id: this.task[0].id})}\r\n                                    >\r\n                                        Редактировать\r\n                                    </Button>\r\n                                </Div>\r\n                        }\r\n                    </FixedLayout>\r\n                </Panel>\r\n\r\n                <Panel id='edit' theme=\"white\">\r\n                    <EditTask\r\n                        router={router}\r\n                        task={this.task[0]}\r\n                        editTask={this.editTask}\r\n                    />\r\n                </Panel>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TasksPanel;","import React, {Component} from 'react';\nimport { Div, Button } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './Footer.css'\nimport Icon24Message from '@vkontakte/icons/dist/24/message';\n\nclass Footer extends Component {\n    constructor(props) {\n        super(props);\n    }\n    groupId = () => {\n        return ((this.props.state.queryParams != null && this.props.state.queryParams.hasOwnProperty('vk_group_id')) ? this.props.state.queryParams.vk_group_id : '')\n    }\n    render() {\n        let groupId = ((this.props.state.queryParams != null && this.props.state.queryParams.hasOwnProperty('vk_group_id')) ? this.props.state.queryParams.vk_group_id : '')\n        return (\n            <Div className=\"footer\">\n                <Button level=\"3\" component=\"a\" target=\"_blank\"\n                           href={'https://vk.me/club' + groupId}  before={<Icon24Message/>}/>\n                <Button level=\"3\" component=\"a\" target=\"_blank\"\n                           href={\"https://vk.com/club\" + groupId}>Группа</Button>\n                {/*<Button level=\"3\" component=\"a\" onClick={this.openAbout.bind(this)}>О\n                    программе</Button>*/}\n            </Div>\n        );\n    }\n\n    openAbout() {\n        this.props.router.navigate('about');\n    }\n}\n\nexport default Footer;\n","import React from 'react'\r\nimport { List, Cell, PanelHeader, platform, ANDROID, Group, Button, Div } from '@vkontakte/vkui'\r\nimport '@vkontakte/vkui/dist/vkui.css'\r\nimport Footer from \"../layouts/Footer\";\r\nclass MailingGroups extends React.Component {\r\n    buttonLabel(mailingGroup) {\r\n        if (this.props.allowMessagesGroupList.indexOf(mailingGroup.id) !== -1) {\r\n            return mailingGroup.button_unsubscribe != null ? mailingGroup.button_unsubscribe : 'Отписаться'\r\n        } else {\r\n            return mailingGroup.button_subscribe != null ? mailingGroup.button_subscribe : 'Подписаться'\r\n        }\r\n    }\r\n    get mainMailingGroup() {\r\n        return this.props.mailingGroups.find(mailingGroup => mailingGroup.main === 1)\r\n    }\r\n    buttonColor(mailingGroup) {\r\n        return this.props.allowMessagesGroupList.indexOf(mailingGroup.id) !== -1 ? 'primary' : 'commerce'\r\n    }\r\n    subscribe = (params) => { this.props.subscribe(params) }\r\n\r\n    render() {\r\n        let {\r\n            router,\r\n            mailingGroups,\r\n            stateApp\r\n        } = this.props\r\n\r\n        const osname = platform()\r\n        return (\r\n            <div>\r\n                <PanelHeader\r\n                >\r\n                    Подарки\r\n                </PanelHeader>\r\n                {/*<Group>\r\n                    <Div\r\n                        style={{backgroundImage: this.mainMailingGroup && this.mainMailingGroup.hasOwnProperty('id') ? 'url(' + this.mainMailingGroup.image + ')' : '',\r\n                            display: 'flex',\r\n                            alignItems: 'flex-end',\r\n                            justifyContent: 'center',\r\n                            paddingBottom: '6px',\r\n                            borderRadius: 12,\r\n                            minHeight: '250px'\r\n                        }}\r\n                    >\r\n                        <img src={this.mainMailingGroup && this.mainMailingGroup.hasOwnProperty('id') ? this.mainMailingGroup.image : ''} style={{width:'100vw'}}/>\r\n                    </Div>\r\n                </Group>*/}\r\n                <List style={{ paddingTop : (osname === ANDROID) ? 56 : 48 }}>\r\n                    {\r\n                        mailingGroups.map((mailingGroup, index) => (\r\n                            <Group title={mailingGroup.title} key={mailingGroup.id}>\r\n\r\n                                <Cell\r\n                                    onClick={()=>router.navigate('mailing_group', { id : mailingGroup.id })}\r\n                                >{mailingGroup.description}</Cell>\r\n                                    {osname === ANDROID ?\r\n                                    <Div style={{ float : 'right' }}>\r\n                                        <Button\r\n                                            className='FixedBottomButton'\r\n                                            onClick={()=>this.subscribe({mailingGroupId: mailingGroup.id,\r\n                                                subscribe: this.props.allowMessagesGroupList.indexOf(mailingGroup.id) === -1 } )}\r\n                                            mode=\"commerce\"\r\n                                        >\r\n                                            {this.buttonLabel(mailingGroup)}\r\n                                        </Button>\r\n                                    </Div>\r\n                                    :\r\n                                    <Div>\r\n                                        <Button\r\n                                            size=\"l\"\r\n                                            onClick={()=>this.subscribe({mailingGroupId: mailingGroup.id,\r\n                                                subscribe: this.props.allowMessagesGroupList.indexOf(mailingGroup.id) === -1 } )}\r\n                                            level={this.buttonColor(mailingGroup)}\r\n                                        >\r\n                                            {this.buttonLabel(mailingGroup)}\r\n                                        </Button>\r\n                                    </Div>}\r\n                            </Group>\r\n                        ))\r\n                    }\r\n                    <Footer\r\n                        router={router}\r\n                        state={stateApp}\r\n                    />\r\n                </List>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MailingGroups;","import React from 'react'\r\nimport { PanelHeader, Header, Div, Group } from '@vkontakte/vkui'\r\nimport PanelHeaderBack from '@vkontakte/vkui/dist/components/PanelHeaderBack/PanelHeaderBack'\r\n\r\nfunction MailingGroup(props) {\r\n\r\n    const mailingGroup = props.mailingGroup\r\n    const router = props.router\r\n\r\n    return (\r\n        <div>\r\n            <PanelHeader\r\n                left={\r\n                    <PanelHeaderBack\r\n                        onClick={()=>router.navigate('mailing_groups')}\r\n                    />\r\n                }\r\n            >\r\n                Группа\r\n            </PanelHeader>\r\n            {\r\n                typeof mailingGroup !== 'undefined' &&\r\n                <Group>\r\n                    <Header>{mailingGroup.title}</Header>\r\n                    <Div>{mailingGroup.description}</Div>\r\n                </Group>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MailingGroup\r\n","import React, {Component} from 'react'\r\nimport {ANDROID, Button, Div, platform, FixedLayout, Panel, View, Snackbar, Avatar} from '@vkontakte/vkui'\r\nimport '@vkontakte/vkui/dist/vkui.css'\r\nimport MailingGroups from \"./MailingGroups\";\r\nimport Icon24Write from '@vkontakte/icons/dist/24/write'\r\nimport MailingGroup from \"./MailingGroup\";\r\nimport Icon16Done from '@vkontakte/icons/dist/16/done'\r\nconst blueBackground = {\r\n    backgroundColor: 'var(--accent)'\r\n};\r\nclass MailingGroupsPanel extends Component {\r\n    get mailingGroup() {\r\n        const id = Number(this.props.route.params.id) || this.state.currentMailingGroupId\r\n        return this.props.state.mailingGroups.filter((task) =>\r\n            task.id === id\r\n        )\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            currentMailingGroupId: null,\r\n            snackbar: null\r\n        };\r\n        this.openBase = this.openBase.bind(this);\r\n    }\r\n\r\n    subscribe = (params) => {\r\n        this.props.subscribe(params)\r\n        this.openBase(params)\r\n    }\r\n    openBase (params) {\r\n        let mailingGroup = this.props.mailingGroups.find(mailingGroup => mailingGroup.id === params.mailingGroupId)\r\n        let text = !params.subscribe ? mailingGroup.button_subscribe : mailingGroup.button_unsubscribe\r\n        text = text ? text : (!params.subscribe ? 'Вы успешно подписались!' : 'Вы успещно отписались!')\r\n        if (this.state.snackbar) return;\r\n        this.setState({ snackbar:\r\n                <Snackbar\r\n                    layout=\"vertical\"\r\n                    onClose={() => this.setState({ snackbar: null })}\r\n                    before={<Avatar size={24} style={blueBackground}><Icon16Done fill=\"#fff\" width={14} height={14} /></Avatar>}\r\n                >\r\n                    {text}\r\n                </Snackbar>\r\n        });\r\n    }\r\n\r\n    render() {\r\n\r\n        let {\r\n            route,\r\n            mailingGroups,\r\n            router\r\n        } = this.props\r\n        const osname = platform()\r\n        const activePanel = route.name\r\n\r\n        return (\r\n            <View activePanel={activePanel} >\r\n                <Panel id='mailing_groups'>\r\n                    <FixedLayout vertical='top'>\r\n                    </FixedLayout>\r\n                    <MailingGroups\r\n                        router={router}\r\n                        mailingGroups={mailingGroups}\r\n                        allowMessagesGroupList={this.props.state.allowMessagesGroupList}\r\n                        subscribe={this.subscribe}\r\n                        stateApp={this.props.state}\r\n                    />\r\n                    {this.state.snackbar}\r\n                </Panel>\r\n\r\n                <Panel id='mailing_group'>\r\n                    <MailingGroup\r\n                        router={router}\r\n                        mailingGroup={this.mailingGroup[0]}\r\n                    />\r\n                </Panel>\r\n            </View>\r\n        );\r\n    }\r\n}\r\nexport default MailingGroupsPanel;","export const APIDOMAIN = 'https://api.chatway.ru';\r\n","import React from 'react'\nimport { View, Panel, Root } from '@vkontakte/vkui'\nimport '@vkontakte/vkui/dist/vkui.css'\nimport AddTask from './components/tasks/AddTask'\nimport { RouteNode } from 'react-router5'\nimport './custom.css'\nimport TasksPanel from \"./components/tasks/TasksPanel\";\nimport MailingGroupsPanel from \"./components/mailing_groups/MailingGroupsPanel\";\nimport connect from '@vkontakte/vk-connect';\nimport {APIDOMAIN} from \"./components/app/types\";\n\nclass App extends React.Component {\n\tconstructor(props) {\n\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\ttasks : [ \n\t\t\t\t{\t\n\t\t\t\t\tid : 1,\n\t\t\t\t\tname : 'Домашнее задание',\n\t\t\t\t\ttext : 'Сделать математику к школе'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid : 2,\n\t\t\t\t\tname : 'Выпить воду',\n\t\t\t\t\ttext : 'Буду пить воду каждый час'\n\t\t\t\t}\n\t\t\t],\n\t\t\tsearch : '',\n\t\t\tremovable : false,\n\t\t\tmailingGroups: [\n\t\t\t\t/*{\n\t\t\t\t\tid: 1,\n\t\t\t\t\ttitle: \"Получить подарок\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 2,\n\t\t\t\t\ttitle: \"Получить подарок\"\n\t\t\t\t}*/\n\t\t\t],\n\t\t\tallowMessagesGroupList: [],\n\t\t\tmailingGroup: null,\n\t\t\tclient: null,\n\t\t\tqueryParams: null,\n\t\t\tsendMessage: false,\n\t\t\tsendNotification: false,\n\t\t\tsignChatWay: null\n\t\t}\n\n\t}\n\tparseQueryString = (string) => {\n\t\treturn string.slice(1).split('&')\n\t\t\t.map((queryParam) => {\n\t\t\t\tlet kvp = queryParam.split('=');\n\t\t\t\treturn {key: kvp[0], value: kvp[1]}\n\t\t\t})\n\t\t\t.reduce((query, kvp) => {\n\t\t\t\tquery[kvp.key] = kvp.value;\n\t\t\t\treturn query\n\t\t\t}, {})\n\t};\n\tasync getSignClient() {\n\t\tlet queryParams = decodeURI(this.props.location.search).replace(/%2C/g, ',')\n\t\treturn fetch(APIDOMAIN + '/app_vk/app_vk/check-user',\n\t\t\t{\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t'Accept': 'application/json',\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify(this.parseQueryString(queryParams))\n\t\t\t})\n\t\t\t.then(function (response) {\n\t\t\t\treturn response.json();\n\t\t\t})\n\t}\n\tasync loadMailingGroups() {\n\t\treturn fetch(APIDOMAIN + '/app_vk/app_vk/all-by-group-id/' + this.state.queryParams.vk_user_id + '?group_id=' + this.state.queryParams.vk_group_id + '&sign=' + this.state.signChatWay)\n\t\t\t.then(function (response) {\n\t\t\t\treturn response.json()\n\t\t\t})\n\t}\n\tasync loadAllowMessagesGroupList() {\n\t\treturn fetch(APIDOMAIN + '/app_vk/app_vk/get-user-allow-group-list/' + this.state.queryParams.vk_user_id + '?group_id=' + this.state.queryParams.vk_group_id + '&sign=' + this.state.signChatWay)\n\t\t\t.then(function (response) {\n\t\t\t\treturn response.json()\n\t\t\t})\n\t}\n\n\tcomponentDidMount() {\n\t\tconnect\n\t\t\t.send('VKWebAppGetUserInfo')\n\t\t\t.then(data => {\n\t\t\t\tthis.setState({client: data})\n\t\t\t})\n\t\t\t// eslint-disable-next-line handle-callback-err\n\t\t\t.catch(error => {\n\t\t\t\t// Обработка событияв случае ошибки\n\t\t\t})\n\t\tthis.setState({ queryParams: this.parseQueryString(this.props.location.search)})\n\t\tthis.getSignClient()\n\t\t\t.then((response) => {\n\t\t\t\tif (response.hasOwnProperty('type') && response.type === 'success') {\n\t\t\t\t\tthis.setState({ signChatWay: response.sign })\n\t\t\t\t\tthis.loadAllowMessagesGroupList().then((data) => {\n\t\t\t\t\t\tthis.setState({ allowMessagesGroupList: data.data })\n\t\t\t\t\t})\n\t\t\t\t\tthis.loadMailingGroups().then((data) => {\n\t\t\t\t\t\tthis.setState({ mailingGroups: data.data })\n\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t}\n\n\taddTask = (task) => {\n\t\ttask.id = this.state.tasks.length + 1\n\t\tthis.setState({\n\t\t\ttasks : [...this.state.tasks, task]\n\t\t})\n\t}\n\n\tdeleteTask = (id) => {\n\t\tlet newTasks = this.state.tasks.filter((task) => task.id !== id)\n\t\tthis.setState({ \n\t\t\ttasks : newTasks\n\t\t})\n\t}\n\n\tonRemovableTasks = () => this.setState({ removable : !this.state.removable })\n\n\n\teditTask = (newTask) => {\n\t\tlet newTasks = this.state.tasks.map((task) => {\n\t\t\tif (task.id === newTask.id) {\n\t\t\t\ttask = newTask\n\t\t\t}\n\t\t\treturn task\n\t\t})\n\t\tthis.setState({\n\t\t\ttasks : newTasks\n\t\t})\n\t}\n\n\tget tasks () {\n\t\tconst search = this.state.search.toLowerCase()\n\t\treturn this.state.tasks.filter((task) => \n\t\t\ttask.name.toLowerCase().indexOf(search) > -1 || \n\t\t\ttask.text.toLowerCase().indexOf(search) > -1)\n\t}\n\tget mailingGroups () {\n\t\treturn this.state.mailingGroups\n\t}\n\tsubscribe = (params) => {\n\t\tlet mailingGroupId = params.mailingGroupId\n\t\tlet subscribe = params.subscribe\n\t\tlet applySubscribe = true\n\t\tif (subscribe && this.state.queryParams.vk_group_id !== null) {\n\t\t\tconnect\n\t\t\t\t.send('VKWebAppAllowMessagesFromGroup',\n\t\t\t\t\t{ 'group_id': +this.state.queryParams.vk_group_id, 'key': 'dBuBKe1kFcdemzB' })\n\t\t\t\t.then(data => {\n\t\t\t\t\tif (data.result) {\n\t\t\t\t\t\tapplySubscribe = data.result\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconsole.log('Запрос VKWebAppAllowMessagesFromGroup прошел с ошибкой', error)\n\t\t\t\t})\n\t\t}\n\t\tif (!applySubscribe) { return }\n\t\tlet dispatchText = (subscribe ? 'subscribe-client/' : 'unsubscribe-client/')\n\n\t\tfetch(APIDOMAIN + '/app_vk/app_vk/' + dispatchText + this.state.queryParams.vk_user_id + '?mailing_group_id=' + mailingGroupId,\n\t\t\t{\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: {\n\t\t\t\t\t'Accept': 'application/json',\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then((res) => {\n\t\t\t\treturn res.json();\n\t\t\t})\n\t\t\t.then( response => {\n\t\t\t\t// return response\n\t\t\t\tthis.subscribeClient(response, subscribe, mailingGroupId)\n\t\t\t})\n\t}\n\n\tsubscribeClient = (response, subscribe, mailingGroupId) => {\n\t\tif (response !== undefined && response.hasOwnProperty('success')) {\n\t\t\tlet allowMessagesGroupList = [...this.state.allowMessagesGroupList];\n\t\t\tif (subscribe) {\n\t\t\t\tallowMessagesGroupList.push(mailingGroupId);\n\t\t\t\tthis.setState({allowMessagesGroupList});\n\n\t\t\t} else {\n\t\t\t\tlet index = allowMessagesGroupList.indexOf(mailingGroupId)\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\tallowMessagesGroupList.splice(index, 1)\n\t\t\t\t\tthis.setState({allowMessagesGroupList});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\trender() {\n\n\t\tlet {\n\t\t\troute,\n\t\t\trouter\n\t\t} = this.props\n\t\tconst activeView = (route.name === 'add') ? 'addView' : (route.name === 'mailing_groups' || route.name === 'mailing_group' ? 'mailingGroupsView' : 'tasksView')\n\t\tconst activePanel = route.name\n\n\t\treturn (\n\t\t\t<Root activeView={activeView}>\n\t\t\t\t<TasksPanel\n\t\t\t\t\troute={this.props.route}\n\t\t\t\t\tid='tasksView'\n\t\t\t\t\tstate={this.state}\n\t\t\t\t\trouter={router}\n\t\t\t\t\ttasks={this.tasks}\n\t\t\t\t\tonRemovableTasks={this.onRemovableTasks}\n\t\t\t\t\tsetCurrentTaskId={this.setCurrentTaskId}\n\t\t\t\t\tdeleteTask={this.deleteTask}\n\t\t\t\t\teditTask={this.editTask}\n\t\t\t\t/>\n\t\t\t\t<MailingGroupsPanel\n\t\t\t\t\troute={this.props.route}\n\t\t\t\t\tid='mailingGroupsView'\n\t\t\t\t\tstate={this.state}\n\t\t\t\t\trouter={router}\n\t\t\t\t\tmailingGroups={this.mailingGroups}\n\t\t\t\t\tonRemovableTasks={this.onRemovableTasks}\n\t\t\t\t\tsetCurrentTaskId={this.setCurrentTaskId}\n\t\t\t\t\tdeleteTask={this.deleteTask}\n\t\t\t\t\teditTask={this.editTask}\n\t\t\t\t\tsubscribe={this.subscribe}\n\t\t\t\t/>\n\t\t\t\t<View activePanel={activePanel} id='addView'>\n\t\t\t\t\t<Panel id='add' theme=\"white\">\n\t\t\t\t\t\t\t<AddTask \n\t\t\t\t\t\t\t\trouter={router}\n\t\t\t\t\t\t\t\taddTask={this.addTask}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t</Panel>\n\t\t\t\t</View>\n\t\t\t</Root>\n\t\t)\n\t}\n}\n\nexport default (props) => (\n    <RouteNode nodeName=\"\">\n        {({ route }) => <App route={route} {...props}/>}\n    </RouteNode>\n)\n","export default [\n    { name: 'tasks', path: '/tasks' },\n    { name: 'task', path: '/task/:id' },\n    { name: 'edit', path: '/edit/:id' },\n    { name: 'add', path: '/add' },\n    { name: 'mailing_groups', path: '/mailing_groups' },\n    { name: 'mailing_group', path: '/mailing_group/:id' }\n]","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-connect';\nimport App from './App';\nimport { RouterProvider } from 'react-router5'\nimport createRouter from './create-router'\n\nconnect.send('VKWebAppInit', {});\n\nlet location = Object.assign({}, window.location) // сохраняем данные в переменную, чтобы проверить пользователя на самозванца\nconst router = createRouter()\nrouter.start(() => {\n    ReactDOM.render((\n        <RouterProvider router={router}>\n            <App router={router} location={location}/>\n        </RouterProvider>\n    ), document.getElementById('root'))\n})\n","import createRouter from 'router5'\nimport loggerPlugin from 'router5-plugin-logger'\nimport browserPlugin from 'router5-plugin-browser'\nimport routes from './routes'\n\nexport default function configureRouter() {\n    const router = createRouter(routes, {\n        defaultRoute: 'mailing_groups'\n    })\n\n    router.usePlugin(loggerPlugin)\n    router.usePlugin(\n            browserPlugin({\n                useHash: true\n            })\n        )\n\n    return router\n}"],"sourceRoot":""}